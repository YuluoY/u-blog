.u-cascader {
  width: 100%;
  min-width: 0;
  display: flex;
  vertical-align: middle;
  position: relative;
  box-sizing: border-box;

  /* Tooltip 容器撑满 */
  .u-tooltip {
    display: flex;
    width: 100%;
    min-width: 0;
  }
  .u-tooltip__trigger {
    display: flex;
    width: 100%;
    min-width: 0;
    justify-content: stretch;
  }

  * {
    box-sizing: border-box;
  }

  /* ---- 禁用态 ---- */
  &.is-disabled {
    cursor: not-allowed;

    .u-cascader__trigger {
      background-color: var(--u-background-2, #f5f5f5);
      border-color: var(--u-border-1, #e0e0e0);
      pointer-events: none;
      opacity: 0.7;
    }
  }

  /* ---- 尺寸变体 ---- */
  &.u-cascader--small .u-cascader__trigger {
    min-height: 2rem;
    padding: 0 0.5rem;
    border-radius: var(--u-input-radius-sm, 0.3rem);

    .u-cascader__label,
    .u-cascader__placeholder {
      font-size: var(--u-font-size-sm, 1rem);
    }
  }

  &.u-cascader--default .u-cascader__trigger {
    min-height: 2.4rem;
    padding: 0 0.75rem;
    border-radius: var(--u-input-radius-default, 0.5rem);

    .u-cascader__label,
    .u-cascader__placeholder {
      font-size: var(--u-font-size-base, 1.4rem);
    }
  }

  &.u-cascader--large .u-cascader__trigger {
    min-height: 2.8rem;
    padding: 0 0.6rem 0 1.2rem;
    border-radius: var(--u-input-radius-large, 0.8rem);

    .u-cascader__label,
    .u-cascader__placeholder {
      font-size: var(--u-font-size-md, 1.2rem);
    }
  }

  /* ---- 触发区基础（与 Select / Input 同套） ---- */
  .u-cascader__trigger {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.4rem;
    min-height: 2.4rem;
    padding: 0 0.75rem;
    border-radius: var(--u-border-radius-4, 0.4rem);
    color: var(--u-text-1, #333);
    background-color: var(--u-input-bg, var(--u-background-1, #fff));
    border: 1px solid var(--u-border-2, #d9d9d9);
    transition:
      border-color 0.2s ease,
      box-shadow 0.2s ease,
      background-color 0.2s ease;
    cursor: pointer;
    font-family: inherit;
  }

  &:not(.is-disabled) .u-cascader__trigger:hover {
    border-color: var(--u-text-4, #c0c4cc);
  }

  &.is-open:not(.is-disabled) .u-cascader__trigger,
  .u-cascader__trigger:focus-visible {
    outline: none;
    border-color: var(--u-primary, #007bff);
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--u-primary, #007bff) 15%, transparent);
  }

  /* ---- 值标签 ---- */
  .u-cascader__label {
    flex: 1;
    min-width: 0;
    text-align: left;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* ---- 占位符 ---- */
  .u-cascader__placeholder {
    flex: 1;
    min-width: 0;
    text-align: left;
    color: var(--u-text-4, #c0c4cc);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-size: inherit;
  }

  /* ---- 箭头图标 ---- */
  .u-cascader__suffix {
    flex-shrink: 0;
    color: var(--u-text-3, #a8abb2);
    transition: transform 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
  }

  &.is-open .u-cascader__suffix {
    transform: rotate(180deg);
  }

  /* ---- 清除按钮 ---- */
  .u-cascader__clear {
    display: inline-flex;
    align-items: center;
    flex-shrink: 0;
    color: var(--u-text-4, #c0c4cc);
    cursor: pointer;
    transition: color 0.2s;

    &:hover {
      color: var(--u-text-2, #606266);
    }
  }
}

/* ---- 下拉面板（teleport 到 body，通过 popper-class 挂载） ---- */
.u-cascader__popper.u-tooltip__popper {
  padding: 0 !important;
  border: 1px solid var(--u-border-2, #d9d9d9);
  border-radius: var(--u-border-radius-4, 0.4rem);
  box-shadow: var(--u-shadow-light, 0 2px 12px rgba(0, 0, 0, 0.08));
  overflow: hidden;
}

/* ---- 面板容器：横向排列多列 ---- */
.u-cascader__panel {
  display: flex;
  box-sizing: border-box;
}

/* ---- 单列菜单 ---- */
.u-cascader__menu {
  min-width: 10rem;
  max-height: 20rem;
  overflow-y: auto;
  padding: 0.4rem 0;
  box-sizing: border-box;

  /* 列之间分割线 */
  & + .u-cascader__menu {
    border-left: 1px solid var(--u-border-1, #e4e7ed);
  }

  /* 自定义滚动条 */
  &::-webkit-scrollbar {
    width: 6px;
  }
  &::-webkit-scrollbar-thumb {
    border-radius: 3px;
    background: var(--u-border-2, #c0c4cc);
  }
  &::-webkit-scrollbar-track {
    background: transparent;
  }
}

/* ---- 单个选项 ---- */
.u-cascader__option {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.6rem;
  padding: 0 1.2rem;
  min-height: 2.4rem;
  line-height: 2.4rem;
  font-size: var(--u-font-size-base, 1.4rem);
  color: var(--u-text-1, #333);
  cursor: pointer;
  white-space: nowrap;
  transition: background-color 0.15s;
  box-sizing: border-box;

  &:hover:not(.is-disabled) {
    background-color: var(--u-background-2, #f5f7fa);
  }

  /* 选中态 */
  &.is-selected {
    color: var(--u-primary, #007bff);
    font-weight: 500;
    background-color: color-mix(in srgb, var(--u-primary, #007bff) 8%, transparent);

    .u-cascader__option-arrow {
      color: var(--u-primary, #007bff);
    }
  }

  /* 禁用态 */
  &.is-disabled {
    color: var(--u-text-4, #c0c4cc);
    cursor: not-allowed;
  }

  /* 子级箭头 */
  .u-cascader__option-arrow {
    flex-shrink: 0;
    color: var(--u-text-3, #a8abb2);
    font-size: 0.85em;
  }
}

.u-cascader__option-label {
  flex: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
}
